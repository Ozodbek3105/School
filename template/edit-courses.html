{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
<div class="content-body">
            <!-- row -->
            <div class="container-fluid">
				    
                <div class="row page-titles mx-0">
                    <div class="col-sm-6 p-md-0">
                        <div class="welcome-text">
                            <h4>Edit Course</h4>
                        </div>
                    </div>
                    <div class="col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="/">Home</a></li>
                            <li class="breadcrumb-item active"><a href="javascript:void(0);">Courses</a></li>
                            <li class="breadcrumb-item active"><a href="javascript:void(0);">Edit Course</a></li>
                        </ol>
                    </div>
                </div>
				
				<div class="row">
					<div class="col-lg-12">
						<div class="card">
							<div class="card-header">
								<h4 class="card-title">Courses Details</h4>
							</div>
							<div class="card-body">
								<form action="{% url 'edit_course' course.id %}" method="post" enctype="multipart/form-data">
									{% csrf_token %}
                                    <div class="row">
										<div class="col-lg-6 col-md-6 col-sm-12">
											<div class="form-group">
                                            <label class="form-label">Name</label>
                                            <select class="form-control" name="name" multiple>
                                                {% for name in form.name.field.queryset %}
                                                {% if name.id == form.initial.name %}
                                                <option value="{{name.id}}" selected>{{name.name}}</option>
                                                {% else %}
                                                <option value="{{name.id}}">{{name.name}}</option>
                                                {% endif %}
                                                {% endfor %}
                                            </select>
											</div>
										</div>
										<div class="col-lg-6 col-md-6 col-sm-12">
											<div class="form-group">
												{{form.course_code|as_crispy_field}}
											</div>
										</div>
										<div class="col-lg-12 col-md-12 col-sm-12">
											<div class="form-group">
												{{form.description|as_crispy_field}}
											</div>
										</div>
										<div class="col-lg-6 col-md-6 col-sm-12">
											<div class="form-group">
												{{form.start_from|as_crispy_field}}
											</div>
										</div>
										<div class="col-lg-6 col-md-6 col-sm-12">
											<div class="form-group">
												{{form.duration|as_crispy_field}}
											</div>
										</div>
										<div class="col-lg-6 col-md-6 col-sm-12">
											<div class="form-group">
												{{form.price|as_crispy_field}}
											</div>
										</div>
										<div class="col-lg-6 col-md-6 col-sm-12">
											<div class="form-group">
                                        <label class="form-label">Teacher</label>
                                        <select class="form-control" name="teacher">
                                            <option value="Department">Choose...</option>
                                            {% for teacher in form.teacher.field.queryset %}
                                            {% if teacher.id == form.initial.teacher %}
                                            <option value="{{teacher.id}}" selected>{{teacher.first_name}}</option>
                                            {% else %}
                                            <option value="{{teacher.id}}">{{teacher.first_name}}</option>
                                            {% endif %}
                                            {% endfor %}
                                        </select>
											</div>
										</div>
										<div class="col-lg-6 col-md-6 col-sm-12">
											<div class="form-group">
												{{form.max_student|as_crispy_field}}
											</div>
										</div>
										<div class="col-lg-6 col-md-6 col-sm-12">
											<div class="form-group">
												{{form.contact_number|as_crispy_field}}
											</div>
										</div>
                                        <div class="col-lg-6 col-md-6 col-sm-12">
                                          <div class="form-group">
                                            <label class="form-label">Language</label>
                                              <select name="lang" class="form-control">
                                              {% for label, value in form.lang.field.choices %}
                                              {% if label == form.initial.lang %}
                                              <option value="{{label}}" selected>{{value}}</option>
                                              {% else %}
                                              <option value="{{label}}">{{value}}</option>
                                              {% endif %}
                                              {% endfor %}
                                            </select>
                                          </div>
                                          </div>
                                        </div>
										<div class="col-lg-12 col-md-12 col-sm-12">
											<div class="form-group fallback w-100">
												{{form.group_photo}}
											</div>
										</div>
										<div class="col-lg-12 col-md-12 col-sm-12">
											<button type="submit" class="btn btn-primary">Submit</button>
											<a href="{% url 'all_courses' %}" class="btn btn-light">Cencel</a>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
				
            </div>
</div>
{% endblock %}
